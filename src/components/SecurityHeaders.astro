---
// src/components/SecurityHeaders.astro
// Centralized Security Headers Component

// Content Security Policy
// Note: We REMOVED 'frame-ancestors' because it causes errors in <meta> tags.
// Netlify handles the strict framing protection via headers in netlify.toml.
const csp = [
  "default-src 'self'",
  "script-src 'self' 'unsafe-inline'", 
  "style-src 'self' 'unsafe-inline' https://fonts.googleapis.com", 
  "img-src 'self' data: https://img.youtube.com",
  "font-src 'self' https://fonts.gstatic.com",
  "frame-src 'self' https://www.youtube-nocookie.com",
  "object-src 'none'",
  "base-uri 'self'",
  "form-action 'self'",
  "upgrade-insecure-requests"
].join('; ');
---

<meta http-equiv="Content-Security-Policy" content={csp} />

<meta http-equiv="X-Content-Type-Options" content="nosniff" />
<meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

<meta name="format-detection" content="telephone=no" />